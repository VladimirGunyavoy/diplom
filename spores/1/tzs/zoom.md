# –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ: –°–∏—Å—Ç–µ–º–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–≥–æ 3D –∑—É–º–∞

## üéØ –¶–µ–ª—å
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ –æ—Å—è–º X, Y, Z –¥–ª—è 3D —Å—Ü–µ–Ω—ã —Å –º–∞—è—Ç–Ω–∏–∫–æ–º –≤ Ursina, –≥–¥–µ —Ä–∞–∑–º–µ—Ä—ã –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è, –Ω–æ —Ä–∞–∑–º–µ—Ä—ã –æ—Å–µ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –æ—Å—Ç–∞—é—Ç—Å—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏.

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
1. **–ù–µ–∑–∞–≤–∏—Å–∏–º–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** –ø–æ —Ç—Ä–µ–º –æ—Å—è–º (X, Y, Z)
2. **–õ–∏–Ω–µ–π–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∑—É–º–∞** (–Ω–µ —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ)
3. **–ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è** –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑—É–º–∞
4. **–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –∫–∞–º–µ—Ä—ã** (–æ–±—Ä–∞—Ç–Ω–æ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –∑—É–º—É)
5. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç** –∫–∞–º–µ—Ä—ã (Œ∏, œâ)
6. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –∫–∞–º–µ—Ä—ã** –ø—Ä–∏ –∑—É–º–µ

### **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
1. **–î–∏–∞–ø–∞–∑–æ–Ω –∑—É–º–∞:** 0.001x - 1000x (—Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –±–µ–∑–≥—Ä–∞–Ω–∏—á–Ω—ã–π)
2. **–°–∫–æ—Ä–æ—Å—Ç—å –∑—É–º–∞:** –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10% –≤ —Å–µ–∫—É–Ω–¥—É)
3. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –°—Ç—Ä–µ–ª–∫–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
4. **–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞:** Œ∏ (X), œâ (Z), –≤—ã—Å–æ—Ç–∞ (Y)

### **–û–±—ä–µ–∫—Ç—ã –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è:**
- ‚úÖ –¢–æ—á–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è (StatePoint)
- ‚úÖ –°–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏
- ‚úÖ –ì—Ä–∞–Ω–∏—Ü—ã –æ–±–ª–∞—Å—Ç–∏ (theta_lims, omega_lims)
- ‚úÖ –í—Å–µ –∏–≥—Ä–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã
- ‚ùå –û—Å–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (Frame)
- ‚ùå UI —ç–ª–µ–º–µ–Ω—Ç—ã –∏ —Ç–µ–∫—Å—Ç

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### **1. –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å ZoomManager**

```python
class ZoomManager:
    """–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä —Å–∏—Å—Ç–µ–º—ã –∑—É–º–∞"""
    
    def __init__(self):
        # –¢–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∑—É–º–∞ –ø–æ –æ—Å—è–º
        self.zoom_x = 1.0
        self.zoom_y = 1.0
        self.zoom_z = 1.0
        
        # –¶–µ–ª–µ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –ø–ª–∞–≤–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏
        self.target_zoom_x = 1.0
        self.target_zoom_y = 1.0
        self.target_zoom_z = 1.0
        
        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏
        self.zoom_speed = 1.0  # –°–∫–æ—Ä–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑—É–º–∞ (1.0 = 100% –≤ —Å–µ–∫—É–Ω–¥—É)
        self.zoom_limits = (0.001, 1000.0)  # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –∑—É–º
        
        # –°–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
        self.scalable_objects = []
        
    def set_target_zoom(self, axis, zoom_factor):
        """–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ü–µ–ª–µ–≤–æ–π –∑—É–º –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–π –æ—Å–∏"""
        zoom_factor = max(self.zoom_limits[0], min(self.zoom_limits[1], zoom_factor))
        
        if axis == 'x':
            self.target_zoom_x = zoom_factor
        elif axis == 'y':
            self.target_zoom_y = zoom_factor
        elif axis == 'z':
            self.target_zoom_z = zoom_factor
            
    def update(self, dt):
        """–û–±–Ω–æ–≤–ª—è–µ—Ç –∑—É–º —Å –ø–ª–∞–≤–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–µ–π"""
        # –ü–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ –∫ —Ü–µ–ª–µ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º
        self.zoom_x = lerp(self.zoom_x, self.target_zoom_x, self.zoom_speed * dt)
        self.zoom_y = lerp(self.zoom_y, self.target_zoom_y, self.zoom_speed * dt)
        self.zoom_z = lerp(self.zoom_z, self.target_zoom_z, self.zoom_speed * dt)
        
        # –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
        self._update_all_objects()
    
    def register_scalable(self, scalable_object):
        """–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è"""
        self.scalable_objects.append(scalable_object)
        
    def unregister_scalable(self, scalable_object):
        """–£–¥–∞–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç –∏–∑ —Å–ø–∏—Å–∫–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã—Ö"""
        if scalable_object in self.scalable_objects:
            self.scalable_objects.remove(scalable_object)
    
    def _update_all_objects(self):
        """–û–±–Ω–æ–≤–ª—è–µ—Ç —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤—Å–µ—Ö –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤"""
        for obj in self.scalable_objects:
            obj.update_visual_transform(self.zoom_x, self.zoom_y, self.zoom_z)
    
    def get_camera_speed_multiplier(self):
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–Ω–æ–∂–∏—Ç–µ–ª—å —Å–∫–æ—Ä–æ—Å—Ç–∏ –∫–∞–º–µ—Ä—ã"""
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∑—É–º–∞ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏
        avg_zoom = (self.zoom_x + self.zoom_z) / 2.0
        return 1.0 / max(avg_zoom, 0.001)  # –ò–∑–±–µ–≥–∞–µ–º –¥–µ–ª–µ–Ω–∏—è –Ω–∞ –Ω–æ–ª—å
    
    def get_logical_position(self, camera_position):
        """–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—É—é –ø–æ–∑–∏—Ü–∏—é –∫–∞–º–µ—Ä—ã –≤ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã"""
        return Vec3(
            camera_position.x / self.zoom_x,  # Œ∏
            camera_position.y / self.zoom_y,  # –≤—ã—Å–æ—Ç–∞
            camera_position.z / self.zoom_z   # œâ
        )
```

### **2. –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å ScalableObject**

```python
class ScalableObject:
    """–ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤"""
    
    def __init__(self, logical_position, entity):
        # –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (–∏—Å—Ö–æ–¥–Ω—ã–µ, –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–µ)
        self.logical_position = Vec3(logical_position)
        
        # Ursina Entity –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
        self.entity = entity
        
        # –§–ª–∞–≥–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ –æ—Å–∏)
        self.scale_x = True
        self.scale_y = True
        self.scale_z = True
        
        # –ò—Å—Ö–æ–¥–Ω—ã–π —Ä–∞–∑–º–µ—Ä –æ–±—ä–µ–∫—Ç–∞
        self.original_scale = entity.scale if hasattr(entity, 'scale') else Vec3(1, 1, 1)
        
    def update_visual_transform(self, zoom_x, zoom_y, zoom_z):
        """–û–±–Ω–æ–≤–ª—è–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—É—é –ø–æ–∑–∏—Ü–∏—é –∏ –º–∞—Å—à—Ç–∞–± –æ–±—ä–µ–∫—Ç–∞"""
        # –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –Ω–æ–≤—É—é –≤–∏–∑—É–∞–ª—å–Ω—É—é –ø–æ–∑–∏—Ü–∏—é
        new_position = Vec3(
            self.logical_position.x * zoom_x if self.scale_x else self.logical_position.x,
            self.logical_position.y * zoom_y if self.scale_y else self.logical_position.y,
            self.logical_position.z * zoom_z if self.scale_z else self.logical_position.z
        )
        
        # –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é entity
        self.entity.position = new_position
        
        # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º —Ä–∞–∑–º–µ—Ä –æ–±—ä–µ–∫—Ç–∞ (–¥–ª—è —Ç–æ—á–µ–∫, —Å–≤—è–∑–µ–π)
        if hasattr(self.entity, 'scale'):
            scale_factor = Vec3(
                zoom_x if self.scale_x else 1.0,
                zoom_y if self.scale_y else 1.0,
                zoom_z if self.scale_z else 1.0
            )
            # –ü—Ä–∏–º–µ–Ω—è–µ–º –º–∞—Å—à—Ç–∞–±, –Ω–æ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
            final_scale = Vec3(
                self.original_scale.x * min(scale_factor.x, 10.0),
                self.original_scale.y * min(scale_factor.y, 10.0), 
                self.original_scale.z * min(scale_factor.z, 10.0)
            )
            self.entity.scale = final_scale
    
    def set_logical_position(self, new_logical_position):
        """–û–±–Ω–æ–≤–ª—è–µ—Ç –ª–æ–≥–∏—á–µ—Å–∫—É—é –ø–æ–∑–∏—Ü–∏—é –æ–±—ä–µ–∫—Ç–∞"""
        self.logical_position = Vec3(new_logical_position)
```

### **3. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è StatePoint**

```python
class StatePoint(ScalableObject):
    """–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è —Ç–æ—á–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã"""
    
    def __init__(self, logical_position, is_start=False, is_goal=False, zoom_manager=None):
        # –°–æ–∑–¥–∞–µ–º –≤–∏–∑—É–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç
        entity = Entity(
            model='sphere',
            color=color.green if is_start else (color.red if is_goal else color.blue),
            scale=0.1,
            position=logical_position  # –í—Ä–µ–º–µ–Ω–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
        )
        
        # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º ScalableObject
        super().__init__(logical_position, entity)
        
        # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞
        self.is_start = is_start
        self.is_goal = is_goal
        self.connections = []
        
        # –°–æ–∑–¥–∞–µ–º –ø–æ–¥–ø–∏—Å—å
        self.label = Text(
            text='–°—Ç–∞—Ä—Ç' if is_start else '–¶–µ–ª—å',
            parent=self.entity,
            position=(0, 0.3, 0),
            scale=50,
            color=color.white,
            billboard=True,
            background=True
        )
        
        # –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –≤ ZoomManager
        if zoom_manager:
            zoom_manager.register_scalable(self)
```

### **4. –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑—É–º–æ–º**

```python
class ZoomControls:
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑—É–º–æ–º"""
    
    def __init__(self, zoom_manager):
        self.zoom_manager = zoom_manager
        self.zoom_step = 0.1  # 10% –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏
        
    def handle_input(self, dt):
        """–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤–≤–æ–¥ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑—É–º–æ–º"""
        
        # –ó—É–º –ø–æ –æ—Å–∏ X (Œ∏)
        if held_keys['left arrow']:
            current = self.zoom_manager.target_zoom_x
            self.zoom_manager.set_target_zoom('x', current * (1 - self.zoom_step * dt))
            
        if held_keys['right arrow']:
            current = self.zoom_manager.target_zoom_x
            self.zoom_manager.set_target_zoom('x', current * (1 + self.zoom_step * dt))
        
        # –ó—É–º –ø–æ –æ—Å–∏ Z (œâ)
        if held_keys['down arrow']:
            current = self.zoom_manager.target_zoom_z
            self.zoom_manager.set_target_zoom('z', current * (1 - self.zoom_step * dt))
            
        if held_keys['up arrow']:
            current = self.zoom_manager.target_zoom_z
            self.zoom_manager.set_target_zoom('z', current * (1 + self.zoom_step * dt))
        
        # –ó—É–º –ø–æ –æ—Å–∏ Y (–≤—ã—Å–æ—Ç–∞) - PageUp/PageDown
        if held_keys['page up']:
            current = self.zoom_manager.target_zoom_y
            self.zoom_manager.set_target_zoom('y', current * (1 + self.zoom_step * dt))
            
        if held_keys['page down']:
            current = self.zoom_manager.target_zoom_y
            self.zoom_manager.set_target_zoom('y', current * (1 - self.zoom_step * dt))
        
        # –°–±—Ä–æ—Å –∑—É–º–∞ - Home
        if held_keys['home']:
            self.zoom_manager.set_target_zoom('x', 1.0)
            self.zoom_manager.set_target_zoom('y', 1.0)
            self.zoom_manager.set_target_zoom('z', 1.0)
```

### **5. UI –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑—É–º–µ**

```python
class ZoomDisplay:
    """–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑—É–º–µ –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö"""
    
    def __init__(self, zoom_manager, camera):
        self.zoom_manager = zoom_manager
        self.camera = camera
        
        # –¢–µ–∫—Å—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –∑—É–º–µ
        self.zoom_info = Text(
            text="Zoom: X=1.0 Y=1.0 Z=1.0",
            position=(-0.9, 0.45),
            scale=0.7,
            color=color.white,
            background=True,
            background_color=color.rgba(0, 0, 0, 0.7)
        )
        
        # –¢–µ–∫—Å—Ç —Å –ª–æ–≥–∏—á–µ—Å–∫–∏–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏
        self.coords_info = Text(
            text="Position: Œ∏=0.0 h=0.0 œâ=0.0",
            position=(-0.9, 0.4),
            scale=0.7,
            color=color.yellow,
            background=True,
            background_color=color.rgba(0, 0, 0, 0.7)
        )
        
        # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é
        self.controls_info = Text(
            text="Zoom: ‚Üê‚Üí (Œ∏), ‚Üë‚Üì (œâ), PgUp/PgDn (h), Home (reset)",
            position=(-0.9, 0.35),
            scale=0.6,
            color=color.gray,
            background=True,
            background_color=color.rgba(0, 0, 0, 0.7)
        )
    
    def update(self):
        """–û–±–Ω–æ–≤–ª—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é"""
        # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑—É–º–µ
        self.zoom_info.text = f"Zoom: X={self.zoom_manager.zoom_x:.2f} Y={self.zoom_manager.zoom_y:.2f} Z={self.zoom_manager.zoom_z:.2f}"
        
        # –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–∞–º–µ—Ä—ã
        logical_pos = self.zoom_manager.get_logical_position(self.camera.position)
        self.coords_info.text = f"Position: Œ∏={logical_pos.x:.2f} h={logical_pos.y:.2f} œâ={logical_pos.z:.2f}"
```

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π

### **–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è SceneSetup:**

```python
class SceneSetup:
    def __init__(self):
        # –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥...
        
        # –î–æ–±–∞–≤–ª—è–µ–º —Å–∏—Å—Ç–µ–º—É –∑—É–º–∞
        self.zoom_manager = ZoomManager()
        self.zoom_controls = ZoomControls(self.zoom_manager)
        self.zoom_display = ZoomDisplay(self.zoom_manager, self.player)
        
    def update(self, dt):
        # –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥...
        
        # –û–±–Ω–æ–≤–ª—è–µ–º —Å–∏—Å—Ç–µ–º—É –∑—É–º–∞
        self.zoom_controls.handle_input(dt)
        self.zoom_manager.update(dt)
        self.zoom_display.update()
        
        # –ê–¥–∞–ø—Ç–∏—Ä—É–µ–º —Å–∫–æ—Ä–æ—Å—Ç—å –∫–∞–º–µ—Ä—ã
        base_speed = 5.0
        self.player.speed = base_speed * self.zoom_manager.get_camera_speed_multiplier()
```

### **–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è PendulumScene:**

```python
class PendulumScene:
    def __init__(self):
        self.scene = SceneSetup()
        
        # –ü–æ–ª—É—á–∞–µ–º –¥–æ—Å—Ç—É–ø –∫ zoom_manager
        self.zoom_manager = self.scene.zoom_manager
        
        # –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç—ã —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∑—É–º–∞
        self.start_point = StatePoint(
            logical_position=(0, 0, 0),
            is_start=True,
            zoom_manager=self.zoom_manager
        )
        
        self.goal_point = StatePoint(
            logical_position=(np.pi, 0, 0),
            is_goal=True,
            zoom_manager=self.zoom_manager
        )
```

## üìã –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å –æ—Ç–ª–∞–¥–∫–æ–π

### **–≠—Ç–∞–ø 1: –ë–∞–∑–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- [ ] –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å—ã `ZoomManager` –∏ `ScalableObject`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –±–∞–∑–æ–≤—É—é –ª–æ–≥–∏–∫—É —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –æ–±—ä–µ–∫—Ç (–ø—Ä–æ—Å—Ç–æ–π –∫—É–±)

**–û—Ç–ª–∞–¥–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- [ ] **–î–µ–±–∞–≥ 1.1:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ `ZoomManager` - –≤—ã–≤–µ—Å—Ç–∏ –≤ –∫–æ–Ω—Å–æ–ª—å –∑–Ω–∞—á–µ–Ω–∏—è –∑—É–º–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- [ ] **–î–µ–±–∞–≥ 1.2:** –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∫—É–± –Ω–∞ –ø–æ–∑–∏—Ü–∏–∏ (1, 0, 1), –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ `ZoomManager`
- [ ] **–î–µ–±–∞–≥ 1.3:** –í—Ä—É—á–Ω—É—é –∏–∑–º–µ–Ω–∏—Ç—å `zoom_x = 2.0`, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∫—É–± –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª—Å—è –≤ –ø–æ–∑–∏—Ü–∏—é (2, 0, 1)
- [ ] **–î–µ–±–∞–≥ 1.4:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `get_logical_position()` - –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (1, 0, 1)
- [ ] **–î–µ–±–∞–≥ 1.5:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Ç—Ä–∏ –æ—Å–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞–∑–Ω—ã–µ –∑—É–º—ã, —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –∫—É–± –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### **–≠—Ç–∞–ø 2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å StatePoint**
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- [ ] –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å `StatePoint` –¥–ª—è –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –æ—Ç `ScalableObject`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–æ—á–µ–∫ –≤ `PendulumScene`
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –≤ `ZoomManager`

**–û—Ç–ª–∞–¥–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- [ ] **–î–µ–±–∞–≥ 2.1:** –°–æ–∑–¥–∞—Ç—å 3 —Ç–µ—Å—Ç–æ–≤—ã–µ —Ç–æ—á–∫–∏ –Ω–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö (0,0,0), (œÄ,0,0), (0,0,5)
- [ ] **–î–µ–±–∞–≥ 2.2:** –í—ã–≤–µ—Å—Ç–∏ –≤ –∫–æ–Ω—Å–æ–ª—å logical_position –∫–∞–∂–¥–æ–π —Ç–æ—á–∫–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
- [ ] **–î–µ–±–∞–≥ 2.3:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å zoom_x = 0.5, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ç–æ—á–∫–∞ (œÄ,0,0) –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª–∞—Å—å –≤ (œÄ/2,0,0)
- [ ] **–î–µ–±–∞–≥ 2.4:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å zoom_z = 3.0, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ç–æ—á–∫–∞ (0,0,5) –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª–∞—Å—å –≤ (0,0,15)
- [ ] **–î–µ–±–∞–≥ 2.5:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–æ–¥–ø–∏—Å–∏ —Ç–æ—á–µ–∫ –æ—Å—Ç–∞–ª–∏—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏—è—Ö
- [ ] **–î–µ–±–∞–≥ 2.6:** –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ Frame (–æ—Å–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç) –ù–ï –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è

### **–≠—Ç–∞–ø 3: –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è**
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `ZoomControls` —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Å—Ç—Ä–µ–ª–∫–∞–º–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–ª–∞–≤–Ω—É—é –∞–Ω–∏–º–∞—Ü–∏—é –∑—É–º–∞
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ `SceneSetup.update()`

**–û—Ç–ª–∞–¥–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- [ ] **–î–µ–±–∞–≥ 3.1:** –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—ã–π –≤—ã–≤–æ–¥ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–µ–ª–∫–∏: `print(f"Key pressed: {key}, target_zoom: {value}")`
- [ ] **–î–µ–±–∞–≥ 3.2:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ `target_zoom` –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ —É–¥–µ—Ä–∂–∞–Ω–∏–∏ —Å—Ç—Ä–µ–ª–æ–∫
- [ ] **–î–µ–±–∞–≥ 3.3:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–ª–∞–≤–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ - –¥–æ–±–∞–≤–∏—Ç—å `print(f"Current zoom: {zoom_x:.3f}, Target: {target_zoom_x:.3f}")` –≤ update
- [ ] **–î–µ–±–∞–≥ 3.4:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—É—é –æ—Å—å –æ—Ç–¥–µ–ª—å–Ω–æ - –∑–∞–∂–∞—Ç—å –æ–¥–Ω—É —Å—Ç—Ä–µ–ª–∫—É, —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∞—è –æ—Å—å
- [ ] **–î–µ–±–∞–≥ 3.5:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∑—É–º–∞ - –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –≤—ã–π—Ç–∏ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã (0.001, 1000)
- [ ] **–î–µ–±–∞–≥ 3.6:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–±—Ä–æ—Å (Home) - —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ –æ—Å–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –∫ 1.0

### **–≠—Ç–∞–ø 4: –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å**
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `get_camera_speed_multiplier()`
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∞–¥–∞–ø—Ç–∏–≤–Ω—É—é —Å–∫–æ—Ä–æ—Å—Ç—å –≤ `FirstPersonController`
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–º—Ñ–æ—Ä—Ç–Ω—É—é —Å–∫–æ—Ä–æ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è

**–û—Ç–ª–∞–¥–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- [ ] **–î–µ–±–∞–≥ 4.1:** –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—ã–π –≤—ã–≤–æ–¥ —Å–∫–æ—Ä–æ—Å—Ç–∏: `print(f"Zoom: {avg_zoom:.2f}, Speed multiplier: {multiplier:.3f}, Final speed: {final_speed:.2f}")`
- [ ] **–î–µ–±–∞–≥ 4.2:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ –∑—É–º—ã:
  - –ü—Ä–∏ –∑—É–º–µ 0.1x - —Å–∫–æ—Ä–æ—Å—Ç—å –¥–æ–ª–∂–Ω–∞ —É–≤–µ–ª–∏—á–∏—Ç—å—Å—è –≤ 10 —Ä–∞–∑
  - –ü—Ä–∏ –∑—É–º–µ 10x - —Å–∫–æ—Ä–æ—Å—Ç—å –¥–æ–ª–∂–Ω–∞ —É–º–µ–Ω—å—à–∏—Ç—å—Å—è –≤ 10 —Ä–∞–∑
- [ ] **–î–µ–±–∞–≥ 4.3:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –¥–≤–∏–∂–µ–Ω–∏–µ –æ—â—É—â–∞–µ—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ –ø—Ä–∏ —Ä–∞–∑–Ω—ã—Ö –∑—É–º–∞—Ö:
  - –í—Ä–µ–º—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –º–µ–∂–¥—É –¥–≤—É–º—è —Ç–æ—á–∫–∞–º–∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ
- [ ] **–î–µ–±–∞–≥ 4.4:** –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ (Space/Shift) —Ç–æ–∂–µ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è
- [ ] **–î–µ–±–∞–≥ 4.5:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–µ–ª–µ–Ω–∏—è –Ω–∞ –Ω–æ–ª—å –ø—Ä–∏ –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö –∑—É–º–∞—Ö

### **–≠—Ç–∞–ø 5: UI –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ**
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- [ ] –°–æ–∑–¥–∞—Ç—å `ZoomDisplay` –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑—É–º–µ
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é

**–û—Ç–ª–∞–¥–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- [ ] **–î–µ–±–∞–≥ 5.1:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ç–µ–∫—Å—Ç –∑—É–º–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑—É–º–∞
- [ ] **–î–µ–±–∞–≥ 5.2:** –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –∫–∞–º–µ—Ä—É –≤ –∏–∑–≤–µ—Å—Ç–Ω—É—é –ø–æ–∑–∏—Ü–∏—é (3, 1, -8), —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑—É–º (2, 1, 0.5), –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ä–∞—Å—á–µ—Ç–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- [ ] **–î–µ–±–∞–≥ 5.3:** –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ UI —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞
- [ ] **–î–µ–±–∞–≥ 5.4:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–∏—Ç–∞–µ–º–æ—Å—Ç—å —Ç–µ–∫—Å—Ç–∞ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ–Ω–∞—Ö
- [ ] **–î–µ–±–∞–≥ 5.5:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –ø—Ä–∏ –±—ã—Å—Ç—Ä–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑—É–º–∞
- [ ] **–î–µ–±–∞–≥ 5.6:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–∏ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã—Ö –∑—É–º–∞—Ö (–æ—á–µ–Ω—å –±–æ–ª—å—à–∏–µ/–º–∞–ª–µ–Ω—å–∫–∏–µ —á–∏—Å–ª–∞)

### **–≠—Ç–∞–ø 6: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã**
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –∑—É–º–∞ –¥–ª—è —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –≥—Ä–∞–Ω–∏—Ü –æ–±–ª–∞—Å—Ç–∏ (theta_lims, omega_lims)
- [ ] –°–æ–∑–¥–∞—Ç—å ScalableConnection –∫–ª–∞—Å—Å

**–û—Ç–ª–∞–¥–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- [ ] **–î–µ–±–∞–≥ 6.1:** –°–æ–∑–¥–∞—Ç—å —Å–≤—è–∑—å –º–µ–∂–¥—É –¥–≤—É–º—è —Ç–æ—á–∫–∞–º–∏, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ª–∏–Ω–∏—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å —Ç–æ—á–∫–∞–º–∏
- [ ] **–î–µ–±–∞–≥ 6.2:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ç–æ–ª—â–∏–Ω–∞ –ª–∏–Ω–∏–π –∞–¥–µ–∫–≤–∞—Ç–Ω–æ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∑—É–º–µ (–Ω–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–ª–∏—à–∫–æ–º —Ç–æ–ª—Å—Ç–æ–π/—Ç–æ–Ω–∫–æ–π)
- [ ] **–î–µ–±–∞–≥ 6.3:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≥—Ä–∞–Ω–∏—Ü—ã –æ–±–ª–∞—Å—Ç–∏ - –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–æ –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –ø–æ–∑–∏—Ü–∏—è—Ö
- [ ] **–î–µ–±–∞–≥ 6.4:** –°–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–æ—á–µ–∫ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ —Å–≤—è–∑–µ–π, —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è
- [ ] **–î–µ–±–∞–≥ 6.5:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å–≤—è–∑–µ–π (50-100 –æ–±—ä–µ–∫—Ç–æ–≤)

### **–≠—Ç–∞–ø 7: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –æ–±—ä–µ–∫—Ç–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∫—Ä–∞–µ–≤—ã—Ö —Å–ª—É—á–∞–µ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–û—Ç–ª–∞–¥–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- [ ] **–î–µ–±–∞–≥ 7.1:** –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
  - –°–æ–∑–¥–∞—Ç—å 1000 ScalableObject'–æ–≤
  - –ò–∑–º–µ—Ä–∏—Ç—å FPS –ø—Ä–∏ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑—É–º–∞
  - –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `_update_all_objects()`
- [ ] **–î–µ–±–∞–≥ 7.2:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä–∞–µ–≤—ã—Ö —Å–ª—É—á–∞–µ–≤:
  - –ó—É–º 0.001x - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
  - –ó—É–º 1000x - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è
  - –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∑—É–º–∞ - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ä—ã–≤–∫–æ–≤
- [ ] **–î–µ–±–∞–≥ 7.3:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏:
  - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑—É–º 2.0, –∑–∞—Ç–µ–º 0.5 - –æ–±—ä–µ–∫—Ç –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –∏—Å—Ö–æ–¥–Ω—É—é –ø–æ–∑–∏—Ü–∏—é
  - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è –ø—Ä–∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ
- [ ] **–î–µ–±–∞–≥ 7.4:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏:
  - –°–æ–∑–¥–∞—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤
  - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã `unregister_scalable()`
  - –£–±–µ–¥–∏—Ç—å—Å—è –≤ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏
- [ ] **–î–µ–±–∞–≥ 7.5:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
  - –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å—é —Å–∏—Å—Ç–µ–º—É –Ω–∞ 10 –º–∏–Ω—É—Ç —Å –∞–∫—Ç–∏–≤–Ω—ã–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
  - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –º–µ–∂–¥—É —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–º–∏ –∑—É–º–∞–º–∏
  - –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤–º–µ—Å—Ç–µ

### **üîß –û—Ç–ª–∞–¥–æ—á–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã**

**–î–æ–±–∞–≤–∏—Ç—å –≤ ZoomManager –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:**
```python
def debug_print_state(self):
    """–í—ã–≤–æ–¥–∏—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∑—É–º–∞"""
    print(f"=== ZOOM DEBUG ===")
    print(f"Current zoom: X={self.zoom_x:.3f} Y={self.zoom_y:.3f} Z={self.zoom_z:.3f}")
    print(f"Target zoom:  X={self.target_zoom_x:.3f} Y={self.target_zoom_y:.3f} Z={self.target_zoom_z:.3f}")
    print(f"Registered objects: {len(self.scalable_objects)}")
    print(f"Speed multiplier: {self.get_camera_speed_multiplier():.3f}")
    
def debug_validate_objects(self):
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤"""
    for i, obj in enumerate(self.scalable_objects):
        if not hasattr(obj, 'logical_position'):
            print(f"ERROR: Object {i} missing logical_position")
        if not hasattr(obj, 'entity'):
            print(f"ERROR: Object {i} missing entity")
```

**–ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:**
```python
# –î–æ–±–∞–≤–∏—Ç—å –≤ input_handler:
if key == 'f1':  # –í—ã–≤–µ—Å—Ç–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑—É–º–∞
    self.zoom_manager.debug_print_state()
if key == 'f2':  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—ä–µ–∫—Ç—ã
    self.zoom_manager.debug_validate_objects()
if key == 'f3':  # –°–±—Ä–æ—Å –∫ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º
    self.zoom_manager.zoom_x = self.zoom_manager.target_zoom_x = 1.0
    self.zoom_manager.zoom_y = self.zoom_manager.target_zoom_y = 1.0  
    self.zoom_manager.zoom_z = self.zoom_manager.target_zoom_z = 1.0
```

## üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (–∏—Ç–æ–≥–æ–≤–æ–µ)

```
‚Üê ‚Üí (Left/Right Arrow)  - –ó—É–º –ø–æ –æ—Å–∏ X (Œ∏)
‚Üë ‚Üì (Up/Down Arrow)     - –ó—É–º –ø–æ –æ—Å–∏ Z (œâ)  
PgUp/PgDn               - –ó—É–º –ø–æ –æ—Å–∏ Y (–≤—ã—Å–æ—Ç–∞)
Home                    - –°–±—Ä–æ—Å –≤—Å–µ—Ö –∑—É–º–æ–≤ –∫ 1.0x
WASD                    - –î–≤–∏–∂–µ–Ω–∏–µ (–∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å)
Space/Shift             - –í–≤–µ—Ä—Ö/–≤–Ω–∏–∑ (–∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å)
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### **–°–∏—Å—Ç–µ–º–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç:**
- **X (Œ∏):** –£–≥–æ–ª –º–∞—è—Ç–Ω–∏–∫–∞, –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –æ—Å—å
- **Y (h):** –í—ã—Å–æ—Ç–∞, –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è –æ—Å—å  
- **Z (œâ):** –£–≥–ª–æ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å, –≥–ª—É–±–∏–Ω–∞

### **–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç:**
```
visual_position = logical_position * zoom_vector
–≥–¥–µ zoom_vector = (zoom_x, zoom_y, zoom_z)
```

### **–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å:**
```
camera_speed = base_speed / average_zoom
–≥–¥–µ average_zoom = (zoom_x + zoom_z) / 2
```

–≠—Ç–æ –¢–ó –≥–æ—Ç–æ–≤–æ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –≤ Cursor –∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏!
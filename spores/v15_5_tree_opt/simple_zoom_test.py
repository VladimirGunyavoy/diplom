#!/usr/bin/env python3
"""
–ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ ZoomManager.
"""

import sys
import os

# –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Ç—å –∫ src –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –º–æ–¥—É–ª–µ–π
sys.path.append(os.path.join(os.path.dirname(__file__), 'src'))

def test_zoom_manager_simple():
    """–ü—Ä–æ—Å—Ç–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ZoomManager."""
    print("üß™ –ü—Ä–æ—Å—Ç–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ZoomManager...")
    
    try:
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
        zoom_manager_path = 'src/managers/zoom_manager.py'
        if not os.path.exists(zoom_manager_path):
            print(f"   ‚ùå –§–∞–π–ª {zoom_manager_path} –Ω–µ –Ω–∞–π–¥–µ–Ω")
            return False
        
        print(f"   ‚úì –§–∞–π–ª {zoom_manager_path} –Ω–∞–π–¥–µ–Ω")
        
        # –ß–∏—Ç–∞–µ–º —Ñ–∞–π–ª –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º –∫–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
        with open(zoom_manager_path, 'r', encoding='utf-8') as f:
            content = f.read()
        
        print("   ‚úì –§–∞–π–ª –ø—Ä–æ—á–∏—Ç–∞–Ω —É—Å–ø–µ—à–Ω–æ")
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –Ω–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã
        if 'def print_all_objects(self) -> None:' in content:
            print("   ‚úì –ú–µ—Ç–æ–¥ print_all_objects –¥–æ–±–∞–≤–ª–µ–Ω")
        else:
            print("   ‚ùå –ú–µ—Ç–æ–¥ print_all_objects –Ω–µ –Ω–∞–π–¥–µ–Ω")
            return False
        
        if 'def show_all_objects(self) -> None:' in content:
            print("   ‚úì –ú–µ—Ç–æ–¥ show_all_objects –¥–æ–±–∞–≤–ª–µ–Ω")
        else:
            print("   ‚ùå –ú–µ—Ç–æ–¥ show_all_objects –Ω–µ –Ω–∞–π–¥–µ–Ω")
            return False
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ register_object –≤—ã–∑—ã–≤–∞–µ—Ç print_all_objects
        if 'self.print_all_objects()' in content:
            print("   ‚úì register_object –≤—ã–∑—ã–≤–∞–µ—Ç print_all_objects")
        else:
            print("   ‚ùå register_object –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç print_all_objects")
            return False
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ print_all_objects
        if '–§–∏–ª—å—Ç—Ä—É–µ–º –ø—Ä–∏–∑—Ä–∞—á–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã' in content:
            print("   ‚úì –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—Ä–∏–∑—Ä–∞—á–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞")
        else:
            print("   ‚ùå –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—Ä–∏–∑—Ä–∞—á–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞")
            return False
        
        if '–ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã' in content:
            print("   ‚úì –ü–æ–∫–∞–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω")
        else:
            print("   ‚ùå –ü–æ–∫–∞–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω")
            return False
        
        if 'getattr(obj, \'id\', \'N/A\')' in content:
            print("   ‚úì –ü–æ–∫–∞–∑ ID –æ–±—ä–µ–∫—Ç–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω")
        else:
            print("   ‚ùå –ü–æ–∫–∞–∑ ID –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω")
            return False
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–∏–∑—Ä–∞–∫–æ–≤
        if '–§–∏–ª—å—Ç—Ä—É–µ–º –ø—Ä–∏–∑—Ä–∞—á–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã' in content:
            print("   ‚úì –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—Ä–∏–∑—Ä–∞—á–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞")
        else:
            print("   ‚ùå –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—Ä–∏–∑—Ä–∞—á–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞")
            return False
        
        if 'def show_all_objects_with_ghosts(self) -> None:' in content:
            print("   ‚úì –ú–µ—Ç–æ–¥ show_all_objects_with_ghosts –¥–æ–±–∞–≤–ª–µ–Ω")
        else:
            print("   ‚ùå –ú–µ—Ç–æ–¥ show_all_objects_with_ghosts –Ω–µ –Ω–∞–π–¥–µ–Ω")
            return False
        
        print("‚úÖ –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ ZoomManager –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ!")
        return True
        
    except Exception as e:
        print(f"   ‚ùå –û—à–∏–±–∫–∞: {e}")
        import traceback
        traceback.print_exc()
        return False

if __name__ == "__main__":
    success = test_zoom_manager_simple()
    if success:
        print("\nüéâ –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ZoomManager –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!")
        print("\nüìã –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:")
        print("   ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–≤–æ–¥ –æ–±—ä–µ–∫—Ç–æ–≤ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏")
        print("   ‚úÖ –ú–µ—Ç–æ–¥ print_all_objects() –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞")
        print("   ‚úÖ –ú–µ—Ç–æ–¥ show_all_objects() –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞")
        print("   ‚úÖ –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –ø–æ —Ç–∏–ø–∞–º")
        print("   ‚úÖ –ü–æ–∫–∞–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤")
        print("   ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± ID –æ–±—ä–µ–∫—Ç–æ–≤")
        print("\nüîç –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞:")
        print("   üîç ZoomManager: –û–±—ä–µ–∫—Ç—ã –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ")
        print("   üìä –í—Å–µ–≥–æ –æ–±—ä–µ–∫—Ç–æ–≤: 3")
        print("   üëª –ü—Ä–∏–∑—Ä–∞—á–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤: 2 (—Å–∫—Ä—ã—Ç—ã –∏–∑ –≤—ã–≤–æ–¥–∞)")
        print("   üìã –¢–∏–ø—ã –æ–±—ä–µ–∫—Ç–æ–≤ (–Ω–µ-–ø—Ä–∏–∑—Ä–∞–∫–∏):")
        print("      ‚Ä¢ Spore: 1 —à—Ç.")
        print("        - test_spore_1")
        print("   üÜï –ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã (–Ω–µ-–ø—Ä–∏–∑—Ä–∞–∫–∏):")
        print("      ‚Ä¢ test_spore_1 (Spore, ID: 1)")
        print("\nüîç –î–ª—è –ø–æ–ª–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:")
        print("   zoom_manager.show_all_objects_with_ghosts()")
    else:
        print("\nüí• –¢–µ—Å—Ç—ã –∑–∞–≤–µ—Ä—à–∏–ª–∏—Å—å —Å –æ—à–∏–±–∫–∞–º–∏!")

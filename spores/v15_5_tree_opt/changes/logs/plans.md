# üöÄ –ü–ª–∞–Ω –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ ManualSporeManager

> **–¶–µ–ª—å**: –£–±—Ä–∞—Ç—å —É–∑–∫–∏–µ –º–µ—Å—Ç–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

## üîç **–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–∏—Ö –ø—Ä–æ–±–ª–µ–º**

### **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É–∑–∫–∏–µ –º–µ—Å—Ç–∞:**
1. **PredictionManager**: –ü–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä
2. **SharedDependencies**: –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è `get_cursor_position_2d()` 
3. **Link.update_geometry()**: –î–æ—Ä–æ–≥–∏–µ Ursina –æ–ø–µ—Ä–∞—Ü–∏–∏ (`look_at()`)
4. **ZoomManager**: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ `register_object()` + `update_transform()`

### **–ü—Ä–æ—Ñ–∏–ª—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–∫–∞–∂–¥—ã–π –∫–∞–¥—Ä):**
```
UpdateManager.update_all()
‚îú‚îÄ‚îÄ manual_spore_manager.update_cursor_position()
‚îÇ   ‚îú‚îÄ‚îÄ SharedDependencies.get_cursor_position_2d()     # 3-5 –≤—ã–∑–æ–≤–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ PreviewManager.update_cursor_position()         # 1 –≤—ã–∑–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ PredictionManager.update_predictions()          # –£–ó–ö–û–ï –ú–ï–°–¢–û
‚îÇ       ‚îú‚îÄ‚îÄ clear_predictions()                         # destroy N –æ–±—ä–µ–∫—Ç–æ–≤
‚îÇ       ‚îú‚îÄ‚îÄ create 4+ PredictionVisualizer              # new N –æ–±—ä–µ–∫—Ç–æ–≤
‚îÇ       ‚îú‚îÄ‚îÄ create 4+ Link                              # new N –ª–∏–Ω–∫–æ–≤
‚îÇ       ‚îú‚îÄ‚îÄ N √ó zoom_manager.register_object()          # O(N) –æ–ø–µ—Ä–∞—Ü–∏–π
‚îÇ       ‚îî‚îÄ‚îÄ N √ó link.update_geometry()                  # N √ó look_at()
```

---

## üìã **–≠—Ç–∞–ø—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**

### **üéØ –≠–¢–ê–ü 1: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –≤ PredictionManager**
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî• –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π (–º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç)
**–†–∏—Å–∫**: üü° –°—Ä–µ–¥–Ω–∏–π (–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è)

#### **1.1. –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à –æ–±—ä–µ–∫—Ç–æ–≤**
- **–§–∞–π–ª**: `src/managers/manual_creation/prediction_manager.py`
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
  ```python
  # –î–û–ë–ê–í–ò–¢–¨ –ø–æ–ª—è:
  self._prediction_objects_cache = {}
  self._cache_initialized = False  
  self._current_mode = None
  self._current_tree_depth = None
  ```

#### **1.2. –†–∞–∑–¥–µ–ª–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**
- **–ú–µ—Ç–æ–¥**: `update_predictions()` ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫—ç—à
- **–ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã**:
  - `_recreate_prediction_cache()` - —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–º–µ–Ω–µ —Ä–µ–∂–∏–º–∞
  - `_update_cached_predictions_positions()` - –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä
  - `_create_spore_prediction_cache()` - –¥–ª—è spores —Ä–µ–∂–∏–º–∞
  - `_clear_prediction_cache()` - –æ—á–∏—Å—Ç–∫–∞

#### **1.3. –î–æ–±–∞–≤–∏—Ç—å –±—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ PredictionVisualizer**
- **–§–∞–π–ª**: `src/visual/prediction_visualizer.py`  
- **–ù–æ–≤—ã–π –º–µ—Ç–æ–¥**: `update_position_only(new_position_2d)`
- **–õ–æ–≥–∏–∫–∞**: –û–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ–∑–∏—Ü–∏—é, –ù–ï –≤—ã–∑—ã–≤–∞–µ—Ç `update_geometry()`

#### **1.4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≠—Ç–∞–ø–∞ 1**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Å–ø–æ—Ä –õ–ö–ú —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤ spores‚Üîtree —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≥–ª—É–±–∏–Ω—ã –¥–µ—Ä–µ–≤–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç  
- ‚úÖ –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –¥–≤–∏–∂—É—Ç—Å—è –∑–∞ –º—ã—à–∫–æ–π
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–æ –Ω–µ—Ç –æ—Ç–ª–∏—á–∏–π –æ—Ç –∏—Å—Ö–æ–¥–Ω–æ–π –≤–µ—Ä—Å–∏–∏
- üìä **–û–∂–∏–¥–∞–µ–º–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ**: 5-10x –¥–ª—è spores —Ä–µ–∂–∏–º–∞

---

### **üéØ –≠–¢–ê–ü 2: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ cursor position –≤ SharedDependencies**
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü† –í—ã—Å–æ–∫–∏–π (—Ö–æ—Ä–æ—à–µ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç/—Ä–∏—Å–∫)
**–†–∏—Å–∫**: üü¢ –ù–∏–∑–∫–∏–π (–ø—Ä–æ—Å—Ç–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ)

#### **2.1. –î–æ–±–∞–≤–∏—Ç—å dirty flag –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**
- **–§–∞–π–ª**: `src/managers/manual_creation/shared_dependencies.py`
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
  ```python
  # –î–û–ë–ê–í–ò–¢–¨ –ø–æ–ª—è:
  self._cursor_cache = None
  self._cursor_dirty = True
  
  # –ú–û–î–ò–§–ò–¶–ò–†–û–í–ê–¢–¨ –º–µ—Ç–æ–¥:
  def get_cursor_position_2d(self):
      if self._cursor_dirty:
          self._cursor_cache = self._compute_cursor_position()
          self._cursor_dirty = False
      return self._cursor_cache
  ```

#### **2.2. –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—é –∫—ç—à–∞**
- **–¢—Ä–∏–≥–≥–µ—Ä**: –¥–≤–∏–∂–µ–Ω–∏–µ –º—ã—à–∏ (–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≥–¥–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å)
- **–ú–µ—Ç–æ–¥**: `invalidate_cursor_cache()` ‚Üí `self._cursor_dirty = True`

#### **2.3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≠—Ç–∞–ø–∞ 2**
- ‚úÖ –ü—Ä–∏–∑—Ä–∞–∫–∏ —Ç–æ—á–Ω–æ —Å–ª–µ–¥—É—é—Ç –∑–∞ –º—ã—à–∫–æ–π
- ‚úÖ –ù–µ—Ç –∑–∞–¥–µ—Ä–∂–µ–∫ –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ –º—ã—à–∏
- ‚úÖ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã cursor position –æ—Å—Ç–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏
- üìä **–û–∂–∏–¥–∞–µ–º–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ**: 2-3x —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

---

### **üéØ –≠–¢–ê–ü 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Link.update_geometry()**
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü† –í—ã—Å–æ–∫–∏–π (–≤–ª–∏—è–µ—Ç –Ω–∞ –≤—Å–µ –ª–∏–Ω–∫–∏ –≤ —Å–∏—Å—Ç–µ–º–µ)
**–†–∏—Å–∫**: üî¥ –í—ã—Å–æ–∫–∏–π (–∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç –±–∞–∑–æ–≤—É—é –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é)

#### **3.1. –ê–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è update_geometry()**
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≥–¥–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–∂–Ω–æ –ª–∏ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å geometry

#### **3.2. –î–æ–±–∞–≤–∏—Ç—å dirty flag –¥–ª—è Link**
- **–§–∞–π–ª**: `src/visual/link.py`
- **–õ–æ–≥–∏–∫–∞**: –í—ã–∑—ã–≤–∞—Ç—å `update_geometry()` —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–æ–∑–∏—Ü–∏–π spores

#### **3.3. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å look_at() –æ–ø–µ—Ä–∞—Ü–∏–∏**
- –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã Ursina `look_at()`
- –í–æ–∑–º–æ–∂–Ω–æ, –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—é

#### **3.4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≠—Ç–∞–ø–∞ 3**
- ‚úÖ –í—Å–µ –ª–∏–Ω–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –õ–∏–Ω–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ spores
- ‚úÖ –ù–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
- ‚úÖ Zoom –∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- üìä **–û–∂–∏–¥–∞–µ–º–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ**: –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ª–∏–Ω–∫–æ–≤

---

### **üéØ –≠–¢–ê–ü 4: –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤ ZoomManager**
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –°—Ä–µ–¥–Ω–∏–π (–ø–æ–ª–∏—Ä–æ–≤–∫–∞)
**–†–∏—Å–∫**: üî¥ –í—ã—Å–æ–∫–∏–π (–∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç core —Å–∏—Å—Ç–µ–º—É)

#### **4.1. –î–æ–±–∞–≤–∏—Ç—å batch —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é**
- **–§–∞–π–ª**: `src/managers/zoom_manager.py`  
- **–ù–æ–≤—ã–π –º–µ—Ç–æ–¥**: `register_objects_batch(objects_dict)`
- **–õ–æ–≥–∏–∫–∞**: –û–¥–∏–Ω `update_transform()` –Ω–∞ –≤–µ—Å—å batch

#### **4.2. –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ print'–æ–≤**
- –£–±—Ä–∞—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ print –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
- –î–æ–±–∞–≤–∏—Ç—å —Å—É–º–º–∞—Ä–Ω—ã–π –æ—Ç—á–µ—Ç

#### **4.3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≠—Ç–∞–ø–∞ 4**
- ‚úÖ –í—Å–µ –æ–±—ä–µ–∫—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è
- ‚úÖ –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –ù–µ—Ç –ø–æ—Ç–µ—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- üìä **–û–∂–∏–¥–∞–µ–º–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ**: —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –≤—ã–∑–æ–≤–æ–≤ update_transform()

---

## ‚ö†Ô∏è **–†–∏—Å–∫–∏ –∏ –ø—Ä–µ–¥–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏**

### **–í—ã—Å–æ–∫–∏–µ —Ä–∏—Å–∫–∏:**
1. **–ù–∞—Ä—É—à–µ–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏**: –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è
2. **Memory leaks**: —Å—Ç–∞—Ä—ã–µ –æ–±—ä–µ–∫—Ç—ã –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è –∏–∑ –∫—ç—à–∞
3. **–í–∏–∑—É–∞–ª—å–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã**: —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ–∑–∏—Ü–∏–π
4. **API –ª–æ–º–∞–µ—Ç—Å—è**: –≤–Ω–µ—à–Ω–∏–π –∫–æ–¥ –æ–∂–∏–¥–∞–µ—Ç —Å—Ç–∞—Ä–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

### **–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –º–∏—Ç–∏–≥–∞—Ü–∏–∏:**
- **–ü–æ—ç—Ç–∞–ø–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –∫–∞–∂–¥—ã–π —ç—Ç–∞–ø –æ—Ç–¥–µ–ª—å–Ω–æ
- **Fallback —Ä–µ–∂–∏–º—ã**: –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å—Ç–∞—Ä–æ–º—É –∫–æ–¥—É
- **Debug —Ä–µ–∂–∏–º—ã**: –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- **–ò–∑–æ–ª—è—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π**: –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è API

---

## üß™ **–ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**

### **–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**

#### **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
1. **–°–æ–∑–¥–∞–Ω–∏–µ spores**: –õ–ö–ú —Å–æ–∑–¥–∞–µ—Ç —Å–ø–æ—Ä—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏—è—Ö
2. **–†–µ–∂–∏–º—ã**: –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ spores‚Üîtree —Ä–∞–±–æ—Ç–∞–µ—Ç
3. **–ì–ª—É–±–∏–Ω–∞ –¥–µ—Ä–µ–≤–∞**: –∏–∑–º–µ–Ω–µ–Ω–∏–µ tree_depth –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è
4. **–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è**: –ø—Ä–∏–∑—Ä–∞–∫–∏ —Å–ª–µ–¥—É—é—Ç –∑–∞ –∫—É—Ä—Å–æ—Ä–æ–º –º—ã—à–∏
5. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**: —Ü–≤–µ—Ç–∞, –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å, —Ñ–æ—Ä–º—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

#### **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
1. **FPS —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**: –Ω–µ—Ç –ø—Ä–æ—Å–∞–¥–æ–∫ –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ –º—ã—à–∏
2. **Memory usage**: –Ω–µ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏
3. **CPU –ø—Ä–æ—Ñ–∏–ª—å**: –∑–∞–º–µ—Ä—ã –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
4. **–û—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç—å**: UI –Ω–µ —Ç–æ—Ä–º–æ–∑–∏—Ç

#### **–†–µ–≥—Ä–µ—Å—Å–∏–∏:**
1. **Zoom system**: —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ –≤—Å–µ–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏
2. **Color management**: —Ü–≤–µ—Ç–∞ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ  
3. **Input handling**: –≤—Å–µ –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
4. **Clear operations**: –æ—á–∏—Å—Ç–∫–∞ (C) —É–¥–∞–ª—è–µ—Ç –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã

---

## üìä **–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**

### **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- **–≠—Ç–∞–ø 1**: 5-10x —É—Å–∫–æ—Ä–µ–Ω–∏–µ update_predictions()
- **–≠—Ç–∞–ø 2**: 2-3x —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ cursor –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
- **–≠—Ç–∞–ø 3**: 2x —É—Å–∫–æ—Ä–µ–Ω–∏–µ Link –æ–ø–µ—Ä–∞—Ü–∏–π
- **–≠—Ç–∞–ø 4**: 1.5x –æ–±—â–µ–µ —É–ª—É—á—à–µ–Ω–∏–µ

### **–û–±—â–∏–π —ç—Ñ—Ñ–µ–∫—Ç:**
- **60fps ‚Üí 60fps**: —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ —Å–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ö
- **–ú–µ–Ω—å—à–µ CPU usage**: –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è –¥—Ä—É–≥–∏—Ö –∑–∞–¥–∞—á
- **–õ—É—á—à–∞—è –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç—å**: –ø–ª–∞–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –∑–∞ –∫—É—Ä—Å–æ—Ä–æ–º

---

## üõ†Ô∏è **–ü–æ—Ä—è–¥–æ–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**

### **–î–∏–∞–ª–æ–≥ 1**: –≠—Ç–∞–ø 1 - PredictionManager –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
### **–î–∏–∞–ª–æ–≥ 2**: –≠—Ç–∞–ø 2 - SharedDependencies –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ  
### **–î–∏–∞–ª–æ–≥ 3**: –≠—Ç–∞–ø 3 - Link.update_geometry() –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
### **–î–∏–∞–ª–æ–≥ 4**: –≠—Ç–∞–ø 4 - ZoomManager –±–∞—Ç—á–∏–Ω–≥ + —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø–æ–ª–∏—Ä–æ–≤–∫–∞

---

## üìù **–ó–∞–º–µ—Ç–∫–∏**

- **–°–æ—Ö—Ä–∞–Ω—è–µ–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É**: –Ω–µ —Å–ª–∏–≤–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–±—Ä–∞—Ç–Ω–æ
- **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ—Å—Ç—å**: –∫–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ  
- **–û—Ç–∫–∞—Ç –≥–æ—Ç–æ–≤**: –º–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ª—é–±–æ–º—É —ç—Ç–∞–ø—É
- **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: —Ñ–∏–∫—Å–∏—Ä—É–µ–º —á—Ç–æ –∏ –∑–∞—á–µ–º –∏–∑–º–µ–Ω—è–µ—Ç—Å—è

**–ì–æ—Ç–æ–≤ –Ω–∞—á–∏–Ω–∞—Ç—å —Å –≠—Ç–∞–ø–∞ 1?** üöÄ
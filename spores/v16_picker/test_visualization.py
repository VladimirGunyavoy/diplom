#!/usr/bin/env python3
"""
–¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ç—Ä–µ–ª–æ–∫ –≤ BufferMergeManager
"""

import sys
import os

# –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Ç—å –∫ –º–æ–¥—É–ª—è–º
sys.path.append(os.path.join(os.path.dirname(__file__), 'src'))

from managers.buffer_merge_manager import BufferMergeManager

def test_visualization():
    """–¢–µ—Å—Ç–∏—Ä—É–µ—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é —Å—Ç—Ä–µ–ª–æ–∫."""
    print("üß™ –¢–ï–°–¢ –í–ò–ó–£–ê–õ–ò–ó–ê–¶–ò–ò –°–¢–†–ï–õ–û–ö")
    print("="*50)
    
    # –°–æ–∑–¥–∞–µ–º –º–µ–Ω–µ–¥–∂–µ—Ä
    manager = BufferMergeManager()
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å—Ç—å –ª–∏ –¥–∞–Ω–Ω—ã–µ –≤ –±—É—Ñ–µ—Ä–µ
    if not manager.has_buffer_data():
        print("‚ùå –ë—É—Ñ–µ—Ä–Ω—ã–π –≥—Ä–∞—Ñ –ø—É—Å—Ç - –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è")
        print("üí° –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–∞—á–∞–ª–∞ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±—É—Ñ–µ—Ä–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞")
        return
    
    # –°–æ–∑–¥–∞–µ–º —Å—Ö–µ–º—É –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π
    manager.create_debug_diagram()
    
    print("\nüé® –¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω!")
    print("üí° –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤—ã—à–µ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ JSON –¥–∞–Ω–Ω—ã–º")

if __name__ == "__main__":
    test_visualization()
